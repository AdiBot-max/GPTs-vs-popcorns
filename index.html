<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ChatGPT vs Popcorns</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="top">
    <h1>ğŸ¤– ChatGPT <span>vs</span> ğŸ¿ Popcorns</h1>
  </header>

  <main>
    <section class="left">
      <h2>Lobby</h2>
      <input id="playerName" type="text" placeholder="Enter name" maxlength="16">
      <div class="teams">
        <button id="team-gpt" data-team="1">ğŸ¤– ChatGPT</button>
        <button id="team-pop" data-team="2">ğŸ¿ Popcorns</button>
      </div>
      <button id="btn-join" class="join">Join Game</button>
      <div id="scoreboard" class="scoreboard">Connecting...</div>
    </section>

    <section class="center">
      <canvas id="game" width="1000" height="600"></canvas>
    </section>

    <section class="right">
      <h2>Players</h2>
      <div id="player-list" class="player-list">Waiting...</div>
    </section>
  </main>

  <footer>
    <small>Made with ğŸ’š by Adi & Cyron-Y</small>
  </footer>

  <script src="/socket.io/socket.io.js"></script>
  <script src="main.js"></script>
  <script>
    // Basic join logic only
    const nameInput = document.getElementById('playerName');
    const playerList = document.getElementById('player-list');
    const joinBtn = document.getElementById('btn-join');
    const teamBtns = document.querySelectorAll('[data-team]');
    let chosenTeam = 1;

    teamBtns.forEach(btn => {
      btn.onclick = () => {
        teamBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        chosenTeam = Number(btn.dataset.team);
      };
    });

    joinBtn.onclick = () => {
      const name = nameInput.value.trim() || 'Player';
      const div = document.createElement('div');
      div.textContent = `${name} joined as ${chosenTeam === 1 ? "ChatGPT" : "Popcorn"}`;
      div.className = "player-entry";
      playerList.prepend(div);
      joinBtn.disabled = true;
    };
  </script>
</body>
</html>
